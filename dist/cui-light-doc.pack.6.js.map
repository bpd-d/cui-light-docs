{"version":3,"sources":["webpack:///./src/core/functions.ts","webpack:///./src/components/base/PageBase.tsx","webpack:///./src/components/partials/components/PageHeader.tsx","webpack:///./src/components/base/PageContentBase.tsx","webpack:///./src/components/base/PageWithHeaderBase.tsx","webpack:///./src/components/partials/forms/CuiSelect.tsx","webpack:///./src/components/main/icons/title.tsx","webpack:///./src/components/main/icons/header.tsx","webpack:///./src/components/main/icons/card.tsx","webpack:///./src/components/main/icons/group.tsx","webpack:///./src/components/main/icons/icons.tsx","webpack:///./src/components/hooks/params.ts","webpack:///./src/utils/groups.ts"],"names":["getHeaderId","id","setDocumentTitle","title","document","mapObjectToArray","object","callback","array","counter","key","hasOwnProperty","push","PageBase","props","name","className","children","PageHeader","description","PageContentBase","classes","PageWithHeaderBase","contentParentCls","CuiSelect","state","setState","value","current","optionsData","options","map","opt","placeholder","onChange","ev","target","CuiIconsHeaderTitle","isText","text","length","result","CuiIconsComponentHeader","filter","htmlFor","type","event","onUpdate","categories","category","to","uri","IconElement","code","href","onClick","then","CuiIconsGroupComponent","group","data","icon","CuiIconsGroupedComponent","list","setList","icons","view","prepareViews","CATEGORY_ALL","IconsComponent","grouped","isLoading","setIsLoading","location","history","params","search","URLSearchParams","useSearchParams","getCategory","find","x","prepareGroup","Promise","resolve","reject","getGroup","item","includes","toLowerCase","isFilterMatching","isCategoryMatching","reduce","index","appendResult","filterData","queryString","get","cat","getFilterParams","set","pathname","toString","IsLoading"],"mappings":"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","file":"cui-light-doc.pack.6.js","sourcesContent":["export function getHeaderId(id?: number): string {\r\n    return `header-${id ?? \"0\"}`;\r\n}\r\n\r\nexport function setDocumentTitle(title: string) {\r\n    document.title = `cUI Light - ${title}`;\r\n}\r\n\r\nexport function mapObjectToArray<T>(object: any, callback: (key: string, value: any, index: number) => T): T[] {\r\n    const array: T[] = [];\r\n    let counter = 0;\r\n    for (let key in object) {\r\n        if (object.hasOwnProperty(key)) {\r\n            array.push(callback(key, object[key], counter));\r\n            counter++;\r\n        }\r\n    }\r\n    return array;\r\n}","import * as React from 'react'\r\nimport { setDocumentTitle } from '../../core/functions';\r\n\r\nexport interface PageBaseProps {\r\n    name: string;\r\n    children?: JSX.Element[] | JSX.Element | undefined;\r\n}\r\nexport function PageBase(props: PageBaseProps) {\r\n    React.useEffect(() => {\r\n        setDocumentTitle(props.name)\r\n    })\r\n    return (<div className='route-child'>\r\n        {props.children}\r\n    </div>);\r\n}\r\n","import * as React from 'react'\r\n\r\nexport interface PageHeaderProps {\r\n    title: string;\r\n    description?: string;\r\n}\r\n\r\nexport function PageHeader(props: PageHeaderProps) {\r\n    return (<div className=\"cui-flex cui-middle cui-center cui-height-viewport-1-2 cui-height-viewport-1-4--m\">\r\n        <div className=\"cui-text-center\">\r\n            <h1 className=\"cui-article-title\">{props.title}</h1>\r\n            <p className=\"\">{props.description}</p>\r\n        </div>\r\n    </div>);\r\n}\r\n","import * as React from 'react'\r\n\r\nexport interface PageContentBaseProps {\r\n    children: JSX.Element[] | JSX.Element | undefined;\r\n    classes?: string;\r\n}\r\nexport function PageContentBase(props: PageContentBaseProps) {\r\n    let classes = \"limited-content-width cui-section cui-margin-auto\";\r\n    if (props.classes) {\r\n        classes += \" \" + props.classes;\r\n    }\r\n    return (<div className={classes}>\r\n        {props.children}\r\n    </div>);\r\n}\r\n","import * as React from 'react'\r\nimport { setDocumentTitle } from '../../core/functions';\r\nimport { PageHeader } from '../partials/components/PageHeader';\r\nimport { PageBase } from './PageBase';\r\nimport { PageContentBase } from './PageContentBase';\r\n\r\nexport interface PageWithHeaderBaseProps {\r\n    children?: JSX.Element[] | JSX.Element | undefined;\r\n    name: string;\r\n    description?: string;\r\n    contentParentCls?: string;\r\n}\r\nexport function PageWithHeaderBase(props: PageWithHeaderBaseProps) {\r\n    return (<PageBase name={props.name}><PageHeader title={props.name} description={props.description} />\r\n        <PageContentBase classes={props.contentParentCls}>\r\n            {props.children}\r\n        </PageContentBase>\r\n    </PageBase>);\r\n}\r\n","import * as React from \"react\";\r\nimport { capitalize } from \"../../../utils/function\";\r\n\r\nexport interface CuiSelectProps {\r\n    current: string;\r\n    options: string[];\r\n    name: string;\r\n    placeholder?: string;\r\n    onChange?: (value: string) => void;\r\n}\r\n\r\nexport interface SelectState {\r\n    value: string;\r\n}\r\n\r\nexport function CuiSelect(props: CuiSelectProps) {\r\n    const [state, setState] = React.useState<SelectState>({\r\n        value: props.current\r\n    })\r\n\r\n    let optionsData = props.options.map(opt => {\r\n        return <option key={opt} value={opt}>{capitalize(opt)}</option>\r\n    })\r\n\r\n    function handleChange(ev: any) {\r\n        setState({ value: ev.target.value });\r\n        if (props.onChange) {\r\n            props.onChange(ev.target.value)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <select className=\"cui-select\" name={props.name} value={state.value} placeholder={props.placeholder} onChange={handleChange}>\r\n            {optionsData}\r\n        </select>);\r\n}","import * as React from \"react\";\r\n\r\nexport interface CuiIconsHeaderTitleProps {\r\n    text: string;\r\n}\r\n\r\nexport function CuiIconsHeaderTitle(props: CuiIconsHeaderTitleProps) {\r\n    const isText = props.text && props.text.length > 0;\r\n    const result = <span>Results for: <span className=\"cui-text-italic\">{props.text}</span></span>;\r\n    const title = isText ? result : \"\";\r\n    return (\r\n        <h2 className=\"cui-h2 cui-margin-remove\">{title}</h2>\r\n    )\r\n}","import * as React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { CuiSelect } from \"../../partials/forms/CuiSelect\";\r\nimport { CuiIconsHeaderTitle } from \"./title\";\r\nimport { CuiIconFilterData } from \"./icons\";\r\nimport { ROUTES } from \"../../../routes\";\r\n\r\n\r\nexport interface CuiIconsComponentHeaderProps {\r\n    categories: string[];\r\n    filter: CuiIconFilterData;\r\n    onUpdate?: (data: CuiIconFilterData) => void;\r\n}\r\n\r\nexport function CuiIconsComponentHeader(props: CuiIconsComponentHeaderProps) {\r\n    function onSelectChange(value: string) {\r\n        if (props.onUpdate) {\r\n            props.onUpdate({ ...props.filter, category: value })\r\n        }\r\n    }\r\n\r\n    function onInputChange(event: any) {\r\n        if (props.onUpdate) {\r\n            props.onUpdate({ ...props.filter, filter: event.target.value })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"cui-flex cui-between-m cui-middle\">\r\n            <CuiIconsHeaderTitle text={props.filter.filter} />\r\n            <div className=\"cui-flex cui-right--s cui-flex-grow cui-middle\">\r\n                <div className=\"cui-form cui-flex cui-between cui-left--s cui-width-1-1 cui-width-auto--m cui-margin-small cui-middle\">\r\n                    <label htmlFor=\"filter\" className=\"cui-form-label cui-margin-small-right\">Filter</label>\r\n                    <input className=\"cui-input\" type=\"text\" placeholder=\"Filter\" value={props.filter.filter} onChange={onInputChange} />\r\n                </div>\r\n                <div className=\"cui-form cui-flex cui-between cui-left--s cui-width-1-1 cui-width-auto--m cui-margin-small cui-middle\">\r\n                    <label htmlFor=\"categories\" className=\"cui-form-label cui-margin-small-right\">Categories</label>\r\n                    <CuiSelect name=\"categories\" options={props.categories} current={props.filter.category} placeholder=\"Category\" onChange={onSelectChange} />\r\n                </div>\r\n                <Link to={ROUTES['builder'].uri} className=\"cui-button cui-accent cui-width-1-1 cui-width-auto--m cui-margin-small cui-icon-margin\" cui-icon=\"wrench\">\r\n                    Builder\r\n                </Link>\r\n            </div>\r\n        </div>\r\n    );\r\n}","import * as React from \"react\";\r\nimport { toast } from \"../../../core/cui\";\r\nimport { copyText } from \"../../../utils/function\";\r\n\r\nexport interface IconElementProps {\r\n    name: string;\r\n    code: string;\r\n}\r\n\r\nexport function IconElement(props: IconElementProps) {\r\n    function onLinkClick() {\r\n        copyText(props.code).then((value) => {\r\n            toast(`${value} copied`);\r\n        });\r\n    }\r\n\r\n    return (\r\n        <div className=\"cui-card cui-default\">\r\n            <div className=\"cui-card-body cui-flex-center cui-padding-large\">\r\n                <span className=\"cui-icon\" cui-icon={props.code}></span>\r\n            </div>\r\n            <div className=\"cui-card-footer cui-flex-center cui-text-nowrap cui-overflow-hidden\">\r\n                <a href=\"#\" className=\"cui-link\" onClick={onLinkClick}>{props.name}</a>\r\n            </div>\r\n        </div>\r\n    );\r\n}","import { IconElementData, IconsGroup, GroupedIconsData } from \"./icons\";\r\nimport * as React from \"react\";\r\nimport { capitalize } from \"../../../utils/function\";\r\nimport { CuiGroupItem, CuiGroup } from \"../../../utils/groups\";\r\nimport { IconElement } from \"./card\";\r\n\r\n\r\nexport interface CuiIconsGroupedComponentProps {\r\n    icons: CuiGroup<IconElementData>;\r\n}\r\n\r\n\r\nexport interface CuiIconsGroupComponentProps {\r\n    group: CuiGroupItem<IconElementData>;\r\n}\r\n\r\nexport function CuiIconsGroupComponent(props: CuiIconsGroupComponentProps) {\r\n    return (\r\n        <li className=\"cui-active\">\r\n            <a className=\"cui-accordion-title\">{capitalize(props.group.name)}</a>\r\n            <div className=\"cui-accordion-content cui-flex-grid cui-child-width-1-2 cui-child-width-1-4--m cui-child-width-1-6--l\">\r\n                {props.group.data.map(icon => {\r\n                    return (<div key={icon.code}><IconElement name={icon.name} code={icon.code} /></div>);\r\n                })}\r\n            </div>\r\n        </li>\r\n    )\r\n}\r\n\r\n\r\nexport function CuiIconsGroupedComponent(props: CuiIconsGroupedComponentProps) {\r\n    const [list, setList] = React.useState<JSX.Element[]>([]);\r\n\r\n    function prepareViews(icons: CuiGroup<IconElementData>) {\r\n        let view: JSX.Element[] = [];\r\n        for (let group in icons) {\r\n            view.push(<CuiIconsGroupComponent key={group} group={icons[group]} />)\r\n        }\r\n        return view;\r\n    }\r\n\r\n\r\n    React.useEffect(() => {\r\n\r\n    }, [props.icons])\r\n    return (\r\n        <ul className=\"cui-accordion\" cui-accordion=\"single: false\" >\r\n            {prepareViews(props.icons)}\r\n        </ul >\r\n    );\r\n}","import * as React from \"react\";\r\nimport { CuiIconsComponentHeader } from \"./header\";\r\nimport { CuiIconsGroupedComponent } from \"./group\";\r\nimport { CuiGroup, group } from \"../../../utils/groups\";\r\nimport { iconsData } from \"../../../statics/icons\";\r\nimport { PageWithHeaderBase } from \"../../../components/base/PageWithHeaderBase\";\r\nimport { IsLoading } from \"../../../components/base/IsLoading\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport { useSearchParams } from \"../../../components/hooks/params\";\r\n\r\nexport const CATEGORY_ALL = 'all';\r\n\r\nconst PARAM_FILTER = 'filter';\r\nconst PARAM_CATEGORY = 'category';\r\n\r\nexport interface GroupedIconsData {\r\n    [id: string]: IconsGroup;\r\n}\r\n\r\nexport interface IconsGroup {\r\n    name: string;\r\n    icons: IconElementData[];\r\n}\r\n\r\nexport interface IconsProps {\r\n    site?: string;\r\n}\r\n\r\nexport interface IconElementData {\r\n    name: string;\r\n    code: string;\r\n    category: string;\r\n}\r\n\r\nexport interface IconComponentState {\r\n    filter: CuiIconFilterData;\r\n    grouped: CuiGroup<IconElementData>;\r\n}\r\n\r\nexport interface CuiIconFilterData {\r\n    filter: string;\r\n    category: string;\r\n}\r\n\r\nexport default function IconsComponent(props: IconsProps) {\r\n    const [state, setState] = React.useState<IconComponentState>({\r\n        filter: { category: CATEGORY_ALL, filter: \"\" },\r\n        grouped: {}\r\n    });\r\n\r\n    const categories = React.useRef<string[]>([]);\r\n\r\n    const [isLoading, setIsLoading] = React.useState(false);\r\n\r\n    const location = useLocation();\r\n    const history = useHistory();\r\n    const { params, search } = useSearchParams(location);\r\n\r\n    function onFilterUpdate(data: CuiIconFilterData) {\r\n        const params = new URLSearchParams();\r\n        params.set(PARAM_FILTER, data.filter);\r\n        params.set(PARAM_CATEGORY, data.category);\r\n\r\n        history.push({\r\n            pathname: location.pathname,\r\n            search: params.toString()\r\n        })\r\n        setState({\r\n            ...state,\r\n            filter: data\r\n        })\r\n    }\r\n\r\n    function getCategory(result: string[], current: IconElementData) {\r\n        if (!result.find(x => x == current.category)) {\r\n            result.push(current.category);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    function isCategoryMatching(item: IconElementData, category: string) {\r\n        return !category || category === CATEGORY_ALL ? true : item.category === category\r\n    }\r\n\r\n    function isFilterMatching(item: IconElementData, filter: string) {\r\n        return !filter || filter === '' ? true : item.code.includes(filter.toLowerCase());\r\n    }\r\n\r\n    function prepareGroup(data: CuiIconFilterData): Promise<CuiGroup<IconElementData>> {\r\n        return new Promise((resolve, reject) => {\r\n            resolve(group((item: IconElementData) => {\r\n                return item.category;\r\n            }, iconsData, (item: IconElementData) => {\r\n                return isFilterMatching(item, data.filter) && isCategoryMatching(item, data.category);\r\n            }));\r\n        });\r\n    }\r\n\r\n    function getFilterParams(queryString: string): CuiIconFilterData {\r\n        // const searchParams = new URLSearchParams(queryString);\r\n        const filter = params.get(PARAM_FILTER);\r\n        const cat = params.get(PARAM_CATEGORY);\r\n        return {\r\n            filter: filter ?? \"\",\r\n            category: cat && categories.current.includes(cat) ? cat : CATEGORY_ALL\r\n        }\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        setIsLoading(true);\r\n\r\n        if (categories.current.length === 0) {\r\n            categories.current = iconsData.reduce<string[]>(getCategory, [])\r\n        }\r\n\r\n        const filterData = getFilterParams(location.search);\r\n\r\n        prepareGroup(filterData).then((group) => {\r\n            setState({\r\n                ...state,\r\n                filter: filterData,\r\n                grouped: group\r\n            })\r\n            setIsLoading(false)\r\n        });\r\n\r\n    }, [search])\r\n\r\n    return <PageWithHeaderBase name=\"Icons\" description=\"cUI icons pack\">\r\n        <CuiIconsComponentHeader categories={categories.current} filter={state.filter} onUpdate={onFilterUpdate} />\r\n        {isLoading ? <IsLoading /> :\r\n            <CuiIconsGroupedComponent icons={state.grouped} />\r\n        }\r\n    </PageWithHeaderBase>\r\n}","import * as React from \"react\";\r\nimport { Location } from 'history';\r\n\r\nexport interface SearchParamsResult {\r\n    params: URLSearchParams,\r\n    search: string,\r\n}\r\n\r\nexport function useSearchParams<T>(location: Location<T>): SearchParamsResult {\r\n    const params = new URLSearchParams(location.search);\r\n\r\n    React.useEffect(() => {\r\n    }, [location.search])\r\n    return {\r\n        params: params,\r\n        search: location.search\r\n    };\r\n}","export interface CuiGroup<T> {\r\n    [id: string]: CuiGroupItem<T>;\r\n}\r\n\r\nexport interface CuiGroupItem<T> {\r\n    name: string;\r\n    data: T[];\r\n}\r\n\r\n/**\r\n * Function which groups items by specified condition.\r\n * Optionally allows to filter out not desired items\r\n * \r\n * @param getGroup - callback to get group name from item\r\n * @param array - array data to be grouped\r\n * @param filter- ? - optional callback to reject items wich don't pass filter condition\r\n * \r\n * @returns Grouped items\r\n */\r\nexport function group<T>(getGroup: (item: T, index: number) => string, array: T[], filter?: (item: T, index: number) => boolean): CuiGroup<T> {\r\n\r\n    function appendResult(result: CuiGroup<T>, item: T, group: string) {\r\n        if (result[group]) {\r\n            result[group].data.push(item)\r\n        } else {\r\n            result[group] = {\r\n                name: group,\r\n                data: [item]\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    return array ? array.reduce<CuiGroup<T>>((result: CuiGroup<T>, item: T, index: number) => {\r\n        if (filter && !filter(item, index)) {\r\n            return result;\r\n        }\r\n        let group = getGroup(item, index);\r\n        if (!group)\r\n            return result;\r\n        return appendResult(result, item, group)\r\n    }, {}) : null;\r\n}"],"sourceRoot":""}